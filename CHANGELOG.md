### [1.5.7] - 2023.12.2

#### 优化

- 现在读取超过 100 条判定线的谱面会弹出警告

### [1.5.6] - 2023.10.27

#### 优化

- 优化文件支持性相关错误信息显示逻辑

#### 修复

- 修复部分谱面读取逻辑与本体不一致的问题

### [1.5.5] - 2023.10.12

#### 新内容

- 重新添加`视频录制`复选框，该项选中时：
  - 会在画面内显示一个带摄像机图标的半透明悬浮按钮
  - 播放前，点击按钮切换录制模式(自动/手动模式)
    - 自动模式(图标为摄像机开启)：以任何方式播放都会自动开始录制
    - 手动模式(图标为摄像机关闭)：不会自动开始录制，需手动点击按钮录制
  - 播放时，点击按钮切换录制状态(开始/结束录制)
    - 按钮为红色表示正在录制，绿色表示未录制
    - 暂停/继续播放不会影响录制状态
    - 只有在播放时才能进行录制，以任何方式结束播放都会自动结束录制
  - 结束录制后，会自动打开录制预览窗口，可对录制结果进行预览或保存到本地
  - 未录制时，长按按钮可再次打开录制预览窗口，预览上一次录制结果
  - 通过拖动按钮改变其位置，拖动时不会触发点击/长按操作

#### 更改

- 调整部分窗口尺寸
- 现在能够正常响应相同文件的连续上传，~~方便调试 qwq~~
- 背景模糊的逻辑由上传时执行改为选择并使用时执行，也许会提升性能

### [1.5.4] - 2023.10.2

#### 修复

- 修复特定尺寸缩放时画面边缘出现模糊或黑边的问题

### [1.5.3] - 2023.9.22

#### 新内容

- 画面右上角：在分数上方显示当前谱面格式标记，例如`PGS(1)`(本体格式 1)、`PGS(3)`(本体格式 3) 等

### [1.5.2] - 2023.9.9

#### 优化

- 优化日志显示：折叠同类型日志以解决大量日志产生的卡顿

### [1.5.1] - 2023.9.1

#### 修复

- 修复部分谱面`Note`因浮点误差显示异常的问题
- 修复部分谱面判定线不透明度大于 1 时不显示的问题

### [1.5.0] - 2023.7.31

#### 新内容

- 新增`音效音量`下拉框(实时生效)
- 支持播放背景视频(`音乐`下拉框选中支持的视频文件时生效)
- 新增`更多设置`按钮，以支持更多的设置项
- 新增`显示Acc`复选框(实时生效)，该项选中时：
  - 画面右上角分数下方显示实时`Acc`
- 新增`显示统计`复选框(实时生效)，该项选中时：
  - 画面左方显示实时偏移`DSP`和平均偏移`AVG`(单位 ms)
  - 画面右方显示不同类型判定实时的触发数目
  - 画面左下角显示不同类型`Note`的出现数目
- 新增`低分辨率`复选框(实时生效)，该项选中时：
  - 画面分辨率变为原来的`1/2`，也许会提升性能
- 新增`横屏锁定`复选框(实时生效)，该项选中时：
  - 全屏时自动横屏，部分设备或浏览器可能不支持

#### 优化

- 兼容 Safari 12.5.7+ (仅运行/不保证性能)
  - 感谢 [@cgluWxh](https://space.bilibili.com/343672879) 提供 `iPhone 6 (2014)` 设备支持
- 重构文件读取模块，也许会提升性能
- 重构谱面预处理和判定模块，也许会提升性能
- 针对判定区域重叠的情况进行优化：
  - 对于多押`Tap`、`Hold`和`Flick`，优先判定物理距离最近的音符
  - 现在符合特定条件的`Drag`和`Flick`会阻挡其后的`Tap`判定
- 重构`Flick`判定，现在与滑动速度相关联 (感谢 [@Mivik](https://github.com/mivik) 提供技术支持)
- 优化音频播放逻辑，也许会减少延迟
- 优化上传重名文件的处理逻辑

#### 更改

- 调整部分输入框：
  - `歌名`输入框名称改为`曲名`
  - 新增`曲师`输入框(显示于开始动画的曲名下方)
  - `等级`输入框拆分为`难度`下拉框和`等级`下拉框，统一格式 (配置文件不受此限制)
- 调整`info.csv`部分属性：
  - 新增`Artist`(曲师，亦可写作`Composer`/`Musician`)
  - 背景变暗由`GlobalAlpha`调整为`BackgroundDim`
  - 谱师由`Designer`调整为`Charter`
- 调整`line.csv`部分属性：
  - 图片缩放与拉伸由`Vert`/`Horz`改为`Scale`/`Aspect`(默认均为`1`)
  - 跟随背景变暗由`IsDark`调整为`UseBackgroundDim`
  - 新增`UseLineColor`(跟随 FC/AP 指示器着色)
  - 新增`UseLineScale`(使用判定线缩放策略)
- 调整选项卡文案：`信息`调整为`日志`
- 微调判定范围：水平判定范围由画面宽度的`23.555%`改为`23.625%`
- 微调 UI，同时更改部分资源的引用路径或读取方式，移除本仓库的官方素材
- 文件上传：背景音乐由必需改为可选(无音乐时替换为时长为`谱面时长+0.5s`的空音乐)

#### 修复

- 修复读取部分 zip 文件时非 utf8 编码文件名显示乱码的问题
- 现在加载 zip 组件会正常显示加载文案，而不是无任何提示
- 修复空文件被错误识别为谱面的问题
- 现在切换全屏会清除当前键盘操作
- 修复了缩放窗口时画面闪烁的问题
- 现在也许能正确读取文件夹内的配置文件
- 修复部分`input`元素无法正常交互的问题
- 现在`谱面延时`的效果受`音乐变速`比例变化

#### 已删除

- 移除`开启打击音效`复选框

### [1.4.21] - 2022.9.29

#### 新内容

- 重构文件上传模块，支持多文件上传和嵌套 zip

#### 优化

- 优化信息显示：识别网址并自动转换成超链接
- 优化第三方 js 的加载逻辑和相关提示
- 兼容性检测现在由原生 js 实现
- 优化全屏幕相关判断
- 优化绘制逻辑，提升性能

#### 更改

- ~~`Autoplay`复选框名称改为`预览模式`~~
- 更改部分 UI 贴图引用路径，移除本仓库的官方贴图素材

#### 修复

- 修复存在触摸点时新的触摸点移入画面会报错的问题

### [1.4.20] - 2022.8.30

#### 优化

- 优化谱面镜像逻辑
- 优化兼容性相关错误信息显示逻辑
- 为不支持或禁用全屏功能的浏览器提供兼容 (充满屏幕)
- 优化图片着色，避免 iOS 15.6+ 出现`InvalidStateError`错误信息
  - 感谢 [@luch4736](https://space.bilibili.com/481266830) 提供 `iPad Pro (2016)` 设备支持

#### 更改

- 微调`Note`默认大小(缩小约 0.99%)
- 将`info.csv`的按键缩放由`ScaleRatio`调整为`NoteScale`(数值越大`Note`越大，默认`1`)

#### 修复

- 修复`info.csv`的按键缩放可能无法读取的问题
- 现在 Android 默认的文件选择器能够正确识别`zip`文件类型

### [1.4.19] - 2022.6.11

#### 优化

- ~~优化 UA 识别策略 (针对 iPad/Safari)~~

#### 修复

- 修复长度超过一定值的`Hold`在旋转一定角度时显示异常的问题

### [1.4.18] - 2022.5.23

#### 更改

- 微调`Note`的`positionX`与画面宽度的比值 (由`1/18`改为`9/160`)

#### 修复

- 修复部分谱面`Note`显示异常的问题 (感谢 [@MayLight39](https://space.bilibili.com/94735983) 提供反馈)

### [1.4.17] - 2022.5.17

#### 新内容

- 新增图片加载检测

#### 优化

- ~~针对 UA 标识为 iOS 和 MacOS 的设备禁用图片缓存~~

### [1.4.16] - 2022.5.1

#### 新内容

- 修改`音乐变速`时支持存档(不同速度安排不同存档位)
- 现在结算界面会显示具体变速数值(修改`音乐变速`时生效)

#### 优化

- 优化第三方 js 的加载逻辑和相关提示
- 现在文本输入溢出时会缩排(即超过一定长度时缩小字号)

#### 更改

- `显示定位点`：`Note`定位文字改为`判定线序号±Note序号+Note类型`
  - (例如 0 号判定线上方的 0 号 Note，如果是`Tap`则定位文字为`0+0t`)

#### 修复

- 修复系统时间可能的自动修正导致谱面瞬移的问题

### [1.4.15] - 2022.3.31

#### 新内容

- ~~没有别的更新了 qwq~~

#### 修复

- 修复部分包含时间异常事件的谱面显示异常的问题

#### 已删除

- 移除 HyperMode

### [1.4.14] - 2021-12-23

#### 新内容

- 新增功能：`谱面镜像`(实时生效)
- 新增功能：`音乐变速`(非实时生效，~~启用时无法存档~~)
- 新增 Early/Late 特效复选框(测试功能)

#### 更改

- 现在`信息`选项卡无信息时会显示一条文案

### [1.4.13] - 2021-11-22

#### 新内容

- ~~新增 HyperMode：更加严格的判定和结算(测试功能)~~
- ~~新增 Great 判定：40-80ms(显示为绿色特效，HyperMode 特有)~~
- 新增 Early/Late 统计(结算界面点击切换)

#### 更改

- 针对低帧率画面调整打击判定，提升稳定性
- 暂停时点击画面不再触发打击判定

#### 修复

- 修复部分设备非全屏触摸点向上错位的问题

### [1.4.12] - 2021-11-15

#### 新内容

- 新增 zip 模块兼容性检测(测试功能)

#### 修复

- 修复画面高度小于一定值时全屏触摸点向下错位的问题

#### 已删除

- 移除可选链操作符和 WebAssembly 兼容性检测
- 移除视频录制功能

### [1.4.11] - 2021-10-23

#### 更改

- 为`Hold`添加多押高亮(与本体`v2.0.0`一致)

#### 修复

- 修复画面高度大于一定值时部分`Note`无法正常显示的问题

### [1.4.10] - 2021-10-10

#### 更改

- 画面左上角播放进度：暂停时会显示`(Paused)`

#### 修复

- 修复`info.csv`配置不当导致谱面显示错误的问题
- 修复进入结算界面之前重新开始仍会结算的问题

### [1.4.9] - 2021-10-03

#### 更改

- 画面左上角播放进度：当分钟小于 10 时不再补 0

#### 修复

- 修复因上版本播放逻辑造成音频撕裂的问题(将播放逻辑回退至 1.4.7)
- 修复过渡动画结束前判定时间内的`Note`可以被打击的问题
- ~~修复进入结算界面之前重新开始仍会结算的问题~~

### [1.4.8] - 2021-09-21

#### 优化

- ~~优化音频播放逻辑，使音频与谱面保持同步~~

#### 修复

- ~~修复过渡动画结束前判定时间内的`Note`可以被打击的问题~~
- ~~修复进入结算界面之前重新开始仍会结算的问题~~
- 修复部分不支持视频录制的浏览器无法使用模拟器的问题

### [1.4.7] - 2021-09-20

#### 新内容

- 新增浏览器兼容性检测(测试功能)

#### 优化

- 适配 iPhone 全面屏

### [1.4.6] - 2021-09-15

#### 新内容

- 隐藏文件：zip 内包含以`.`开头的文件将被隐藏，不会显示在选项框

#### 优化

- 优化图像和字体渲染
- 为 Safari 兼容全屏功能

#### 更改

- `Hold`连续打击特效间隔现在与判定线`bpm`成反比
- `Autoplay`开启时，结算画面不再显示"+0"
- 产生 Bad 判定的`Note`现在会跟随判定线

### [1.4.5] - 2021-09-10

#### 新内容

- 新增键盘操作，感受极其生草的游戏体验(测试功能)

#### 优化

- 为 Safari 兼容离屏自动暂停功能

#### 更改

- 若 Bad 判定范围内的`Tap`前方存在未打击的`Drag`或`Flick`将不触发 Bad 判定
- 暂停快捷键由`Space`(空格)改为`Shift`(左右 Shift 均可)
- 调整结算界面`AUTO PLAY`的显示位置

### [1.4.4] - 2021-09-09

#### 新内容

- 新增`触摸反馈`和`背景模糊`复选框(实时生效)
- 新增本地存档(仅在关闭`Autoplay`并开启`过渡动画`时存档)

#### 优化

- 对 Safari 进行部分兼容
- 优化文件读取逻辑，现在能够支持更多文件类型
- 优化图像渲染

#### 更改

- 结算界面背景音乐会随等级变化(仅在进入结算界面前生效)

### [1.4.3] - 2021-09-02

#### 新内容

- 新增功能：`谱面延时`(非实时生效)
- 添加防止模拟器泛滥的提示
- 新增错误提示(现在导入不包含音乐的 zip 文件也会报错)

#### 优化

- 优化页面布局

#### 更改

- `Hold`渲染由倒序改为顺序(其余`Note`渲染顺序仍为倒序)
- 导入 zip：背景图片由必需改为可选(无图片时替换为纯白背景)
- 过渡动画由逐帧控制改为计时器控制

#### 修复

- 修复过渡开始动画判定线颜色不随`FC/AP指示器`变化的问题

### [1.4.2] - 2021-09-01

#### 更改

- 双击判定区域由圆形改为矩形

#### 修复

- 修复无法判定`HoldTime`小于 0.2s 的`Hold`的问题

### [1.4.1] - 2021-09-01

#### 新内容

- 新增画面双击判定：左上角暂停，右上角重新开始

#### 优化

- 优化触摸点定位逻辑

#### 更改

- 增大画面双击判定范围(现在与画面文字大小成正比)

#### 修复

- 修复开启`显示定位点`时无法统计 note 数目的问题
- 修复逐帧判定导致严重吃音的问题
- 修复结算界面"φ"评级有几率错误地显示为“V”的问题

### [1.4.0] - 2021-08-31

#### 新内容

- 新增`FC/AP指示器`复选框(实时生效)
- 新增游玩模式(测试功能，需关闭`Autoplay`复选框)
- 新增结算界面(测试功能，在歌曲结束后出现，需开启`过渡动画`复选框)
- 新增错误提示(导入非 zip 文件或不包含谱面的 zip 文件均会报错)

#### 优化

- 优化图片颜色渲染机制

#### 更改

- 打击特效动画更加接近本体`v1.6.11`
- 单个打击特效时长由 30tick 改为 500ms
- 切换全屏的方式改为双击画面右下角

### [1.3.2] - 2021-08-16

#### 优化

- 优化绘制逻辑，提升性能

#### 修复

- 修复无判定线事件的谱面无法播放的问题

#### 更改

- `Note`定位文字改为`判定线序号±Note序号`(例如 0 号判定线上方的第 0 个 Note 定位文字为`0+0`)

### [1.3.1] - 2021-08-11

#### 新内容

- 新增功能：视频录制(测试功能，录制时无法暂停)

#### 更改

- 实装`info.csv`和`line.csv`，简介新增悬浮提示
- 连击字样`combo`改为`Autoplay`
- `显示定位点`：画面左下角显示不同种类已打击`Note`的实时数量，负数`Note`以半透明显示

### [1.3.0] - 2021-07-11

#### 新内容

- 新增功能：过渡动画(包含开头淡入和结尾淡出，不包含结算)
- 新增输入框(曲绘、谱师)，对应过渡动画
- 通过添加`line.csv`以修改判定线贴图(测试功能)<!-- [1.2.3] -->
- 通过添加`info.csv`以自动填写谱面信息(测试功能)

#### 优化

- 优化 zip 文件读取逻辑(数组 → 对象)<!-- [1.2.3] -->
- 优化判定线和背景的绘制顺序
- 调整背景和 UI 对不同尺寸屏幕的适配
- 打击特效动画采用缓动函数
- 调整打击音效与本体`v1.6.10`一致
- 优化`播放/停止`和`暂停/继续`按钮相关逻辑

#### 更改

- `宽高比`下拉列表新增`10:7`(适配 iPad Pro 11)，将`256:175`改为`19:13`
- `显示定位点`：判定线数字透明度随判定线透明度变化，`Note`打击后变为半透明
- `Hold`尾判调整为提前 0.2 秒得分
- `Hold`连续打击特效间隔由 12tick 缩短为 9tick

#### 修复

- 修复部分谱面`Note`打击时间异常的问题<!-- [1.2.3] -->
- 修复点击`停止`按钮后按住的`Hold`无法关闭导致连击得分溢出的问题

<!-- ### [1.2.3] - 2021-07-07

#### 新内容

- ~~重新添加`Demo`(隐藏功能，三击标题以启用)~~ -->

### [1.2.2] - 2021-07-03

#### 新内容

- `显示定位点`现在能对`Note`进行定位(测试功能)

#### 修复

- 修复包含文件夹的 zip 无法正确加载的问题
- 修复部分谱面`Note`速度异常及`Hold`错位的问题

#### 更改

- 谱面默认速度：`1.0`→`1.2`(json)，`1/5.75`→`1/7.0`(pec)
- 打击特效颜色：`#fce491`(Perfect)，`#9ed5f3`(Good)

### [1.2.1] - 2021-06-22

#### 新内容

- 添加下拉列表(宽高比、按键缩放、背景变暗)

### [1.2.0] - 2021-06-12

### [1.1.0] - 2021-05-04

#### 新内容

- 支持导入 zip、选择谱面及一些基本操作

#### 已删除

- 暂时移除`模拟Demo`

### [1.0.1] - 2021-04-18

#### 更改

- `模拟Demo`改为 Phi&#103;ros 愚人节谱`Spasmodic SP`

### [1.0.0] - 2021-01-28
